!function(e,r){if(void 0===e&&void 0!==window&&(e=window),"object"==typeof module&&module.exports)module.exports=r(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],r);else{var t={exports:e};e.adam=r(0,0,t)}}(this,function(e,r,t){"use strict";var O,n,S;function g(e){var r=Object.prototype.toString.call(e);return r.substring(8,r.length-1)}function M(e,r){var t=g(e);return"Map"===t||Boolean(r)&&"WeakMap"===t}function b(e){var r=typeof e;return null===e?"null":"number"==r&&isNaN(e)?"nan":r}function a(e,r,t){return r++,(t=t?l(t,{}):{}).limit=r,o(e,t).length===r}function f(e){var r=g(e);return null==e||0===e||""===e||"object"==typeof e&&!a(e,0)||"Array"===r&&0===e.length||("Map"===r||"Set"===r)&&0===e.size}function h(e,r){var t,n,a,o="!"===r.charAt(0),i=b(e);return o&&(r=r.substring(1)),a=i===r||g(e)===r||"true"===r&&Boolean(e)||"false"===r&&!e||"empty"===r&&f(e)||"numeric"===r&&("number"===i||"string"===i&&e&&!isNaN(Number(e)))||"number"===i&&("zero"===r&&0===e||"positive"===r&&0<e||"negative"===r&&e<0||(t=e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)&&"infinity"===r||!t&&((n=e===Math.ceil(e))&&"integer"===r||n&&"even"===r&&e%2==0||n&&"odd"===r&&e%2!=0||!n&&"real"===r)),o?!a:a}function A(e,r,t,n){var a,o,i,f,s,l,c,u=g(e),b="Map"===u||"WeakMap"===u,p="Set"===u||"WeakSet"===u,y=!0;c="value"in(n=n||{})?n.value:b?e.get(r):p?r:e[r],a="string"!=typeof(a=n.filterConnect)||"or"!==a.toLowerCase(),"Array"!==g(t)&&(t=[t]);for(i=0,f=t.length;i<f;i++){switch(g(y=t[i])){case"Function":y=Boolean(y(c,r,e,n));break;case"String":y="own"===y?e[b||p?"has":"hasOwnProperty"](r):"!own"===y?!e[b||p?"has":"hasOwnProperty"](r):h(c,y);break;case"RegExp":y=y.test("symbol"==typeof c?c.toString():c);break;case"Object":if("and"in y)y=A(e,r,y.and,{filterConnect:"and"});else if("or"in y)y=A(e,r,y.or,{filterConnect:"or"});else if("field"in y)y=A({field:r},"field",y.field,{filterConnect:n.filterConnect});else if("value"in y)y=y.value===c;else if("inside"in y)switch(l=g(o=y.inside)){case"Array":case"String":y=-1<o.indexOf(c);break;case"Map":case"Object":y=(s=y.key)?(!0===s&&(s=r),"Map"===l?o.has(s)&&o.get(s)===c:s in o&&o[s]===c):"Map"===l?-1<Array.from(o.values()).indexOf(c):null!==d(o,c);break;case"Set":y=o.has(c);break;default:y=!1}else y=y===c;break;default:y=y===c}if(a&&!y||!a&&y)break}return y}function N(e){var r=g(e);return"Map"===r||"Set"===r?Array.from(e.keys()):"Array"===r||"object"===b(e)?Object.keys(e):null}function o(o,e){function i(e){return y?o[e]:o.get(e)}function f(){return 0<k&&w.length>=k}function r(e){var r,t,n,a;for(t=0,n=e.length;t<n;t++)if(r=e[t],(p||!(r in u))&&(b||A(o,r,h,g))){if("obj"===l?((a={})[s]=r,a[c]=i(r)):a="list"===l?[r,i(r)]:r,w.push(a),f())break;y&&(u[r]=null)}}var s,l,c,u={},b=!(e&&"filter"in e),p=M(o),y=!p,g=e||{},t=Object.getOwnPropertySymbols,n="function"==typeof t,h=b?null:g.filter,a=!b&&"own"===h,d=!b&&"!own"===h,m=!b&&(!a&&!d),k=g.limit||0,v=g.pairs,w=[],j=o;for(v&&("boolean"===(l=typeof v)?v={form:"obj"}:"string"===l&&(v={form:v}),"list"!==(l=v.form||v.type||"obj").toLowerCase()&&(l="obj"),s=v.key||"key",c=v.value||"value");j&&(!(b||m||(a||p)&&j===o||d&&j!==o)||(r((y?O:N)(j)),y&&n&&!f()&&r(t(j)),!f()));)j=y&&(b||d||m)?S(j):null;return w}function d(e,r,t){var n,a,o,i,f=[];if(M(e)){for(o=0,i=(a=Array.from(e.entries())).length;o<i;o++)if((n=a[o])[1]===r){if(!t)return n[0];f.push(n[0])}}else for(n in e)if(e[n]===r){if(!t)return n;f.push(n)}return f.length?f:null}function y(e,r,t){var n,a,o,i,f,s,l,c,u,b,p=e.length,y={};if(p){f=(n=!("filter"in(t=t||{})))?null:t.filter,s=t.filterConnect,i="function"==typeof r,o=Boolean(t.deleteKeyField&&r),i||(b=r);for(u=0;u<p;u++)a=M(l=e[u],!0),i?c=b=r(l,y,u,t):"function"==typeof(c=b?a?l.get(b):l[b]:l)&&(c=c.call(l)),(n||A(y,c,f,{value:l,filterConnect:s}))&&(o&&(a?l.delete(b):delete l[b]),y[c]=l)}return y}function i(e){var r,t;switch(b(e)){case"object":if("Array"===(t=g(e)))e.length=0;else if("Map"===t||"Set"===t)e.clear();else for(r in e)delete e[r];break;case"string":e="";break;case"number":e=0;break;default:e=r}return e}function s(e){var r,t,n,a,o;switch(b(e)){case"object":switch(g(e)){case"Array":e=e.slice(0).reverse();break;case"Map":for(r=Array.from(e.entries()),e=new Map,n=0,a=r.length;n<a;n++)t=r[n],e.set(t[1],t[0]);break;case"Set":e=new Set(N(e));break;default:for(o in r={},e)r[e[o]]=o;e=r}break;case"string":e=e.split("").reverse().join("");break;case"number":e=-e;break;case"boolean":e=!e}return e}function m(r,e){var t;switch(e){case"array":t=Array(r);break;case"boolean":t=Boolean(r);break;case"empty":t=i(r);break;case"function":t=Function(r);break;case"integer":t=Math.round(Number(r));break;case"map":try{t=new Map(r)}catch(e){t=new Map([[r,r]])}break;case"number":t=Number(r);break;case"object":t=Object(r);break;case"promise":case"resolve":t=Promise.resolve(r);break;case"reject":t=Promise.reject(r);break;case"reverse":t=s(r);break;case"set":try{t=new Set(r)}catch(e){t=new Set([r])}break;case"string":t=String(r);break;default:t=r}return t}function l(r,t,n){var a,o,i,f,e,s,l,c=!0,u=g(r),b="Map"===u,p="Set"===u;function y(){var e;(c||A(r,f,i,n))&&(e=b?r.get(f):p?f:r[f],o&&(e=a?o({source:r,target:t,field:f,value:e,settings:n}):m(e,o)),b?t.set(f,e):p?t.add(e):t[f]=e)}if("filter"in(n=n||{})&&(i=n.filter,c=!1),"function"==typeof(o=n.transform)&&(a=!0),b||p)for(s=0,l=(e=N(r)).length;s<l;s++)f=e[s],y();else for(f in r)y();return t}return O="function"==typeof Object.getOwnPropertyNames?Object.getOwnPropertyNames:function(e){var r,t=[];for(r in e)e.hasOwnProperty(r)&&t.push(r);return t},S="function"==typeof Object.getPrototypeOf?Object.getPrototypeOf:function(e){return e?e.constructor?e.constructor.prototype:e.__proto__||Object.prototype:null},"function"==typeof Object.getOwnPropertySymbols&&(n=function(e){var r,t,n,a,o={},i=Object.getOwnPropertySymbols,f=Object.getPrototypeOf,s=[];if(e&&"object"==typeof e)do{for(r=0,t=(a=i(e)).length;r<t;r++)(n=a[r])in o||(s.push(n),o[n]=!0);e=f(e)}while(e);return s}),t.exports={change:function(e,r,t){return(t=t?l(t,{}):{}).transform=r,l(e,e,t)},checkField:A,checkValue:function(e,r,t){return A({value:e},"value",r,t)},copy:l,empty:i,fromArray:y,getClass:g,getFields:o,getFreeField:function(e,r){var t,n,a,o=!M(e);if("string"!=typeof(a=(r=r||{}).prefix)&&(a="f"),t=(t=r.startNum)||0,r.checkPrefix?(n=a,t--):n=a+t,e)for(;o?n in e:e.has(n);)n=a+ ++t;return n},getKeys:N,getPropertySymbols:n,getSize:function(e,r){return o(e,r).length},getType:b,getValueKey:d,getValues:function(r,t){var e,n,a,o,i=[],f=!M(r),s=!(t&&"filter"in t),l=s?null:t.filter;function c(e){(s||A(r,e,l,t))&&(i[i.length]=f?r[e]:r.get(e))}if(f)for(e in r)c(e);else for(a=0,o=(n=N(r)).length;a<o;a++)c(n[a]);return i},isEmpty:f,isKindOf:h,isMap:M,isSizeMore:a,map:function(e,r,t){var n;switch(g(e)){case"Array":n=[];break;case"Map":n=new Map;break;case"Set":n=new Set;break;default:n={}}return(t=t?l(t,{}):{}).transform=r,l(e,n,t)},remove:function(e,r,t){var n,a,o,i;if(e&&"object"==typeof e)switch(g(e)){case"Array":for(n=e.length;n--;)A(e,n,r,t)&&e.splice(n,1);break;case"Map":case"Set":for(o=0,i=(a=N(e)).length;o<i;o++)A(e,n=a[o],r,t)&&e.delete(n);break;default:for(n in e)A(e,n,r,t)&&delete e[n]}return e},reverse:s,select:function(e,r,t){function n(e){return"defaultValue"in c?c.defaultValue:e}var a,o,i,f,s,l=g(r),c=t||{},u=n(r);if("Array"===l||"Set"===l)if("Set"===l&&(r=N(r)),f=r.length)for(s=f-1,i=0;i<f;i++){if(A(r,i,e,c)){u=r[i];break}i===s&&(u=n(r[i]))}else u=n(a);else if("Map"===l){for(u=n(a),i=0,f=(o=N(r)).length;i<f;i++)if(A(r,a=o[i],e,c)){u=r.get(a);break}}else if("object"===b(r))for(a in u=n(a),r)if(A(r,a,e,c)){u=r[a];break}return u},split:function(e,r,t){var n,a,o,i,f,s,l=!M(e),c=l?{}:new Map,u=l?{}:new Map,b=[c,u];function p(){return(n?o in r:A(e,o,a,t))?c:u}if(t=t||{},r?(n=!0,"number"==typeof r.length&&(r=y(r))):(n=!1,a=t.filter),l)for(o in e)p()[o]=e[o];else for(f=0,s=(i=N(e)).length;f<s;f++)o=i[f],p().set(o,e.get(o));return b},transform:m},t.exports});