!function(e,r){if(void 0===e&&void 0!==window&&(e=window),"object"==typeof module&&module.exports)module.exports=r(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],r);else{var t={exports:e};e.adam=r(0,0,t)}}(this,function(e,r,t){"use strict";var k,n,j;function b(e){var r=Object.prototype.toString.call(e);return r.substring(8,r.length-1)}function u(e){var r=typeof e;return null===e?"null":"number"==r&&isNaN(e)?"nan":r}function o(e,r,t){return r++,(t=t?g(t,{}):{}).limit=r,i(e,t).length===r}function f(e){return null==e||0===e||""===e||"object"==typeof e&&!o(e,0)||"Array"===b(e)&&0===e.length}function p(e,r){var t,n,o,i="!"===r.charAt(0),a=u(e);return i&&(r=r.substring(1)),o=a===r||b(e)===r||"true"===r&&Boolean(e)||"false"===r&&!e||"empty"===r&&f(e)||"numeric"===r&&("number"===a||"string"===a&&e&&!isNaN(Number(e)))||"number"===a&&("zero"===r&&0===e||"positive"===r&&0<e||"negative"===r&&e<0||(t=e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)&&"infinity"===r||!t&&((n=e===Math.ceil(e))&&"integer"===r||n&&"even"===r&&e%2==0||n&&"odd"===r&&e%2!=0||!n&&"real"===r)),i?!o:o}function O(e,r,t,n){var o,i,a,f,l,u,c,s=!0;c="value"in(n=n||{})?n.value:e[r],o="string"!=typeof(o=n.filterConnect)||"or"!==o.toLowerCase(),"Array"!==b(t)&&(t=[t]);for(a=0,f=t.length;a<f;a++){switch(b(s=t[a])){case"Function":s=Boolean(s(c,r,e,n));break;case"String":s="own"===s?e.hasOwnProperty(r):"!own"===s?!e.hasOwnProperty(r):p(c,s);break;case"RegExp":s=s.test("symbol"==typeof c?c.toString():c);break;case"Object":if("and"in s)s=O(e,r,s.and,{filterConnect:"and"});else if("or"in s)s=O(e,r,s.or,{filterConnect:"or"});else if("field"in s)s=O({field:r},"field",s.field,{filterConnect:n.filterConnect});else if("value"in s)s=s.value===c;else if("inside"in s)switch(u=b(i=s.inside)){case"Array":case"String":s=-1<i.indexOf(c);break;case"Map":case"Object":s=(l=s.key)?(!0===l&&(l=r),"Map"===u?i.has(l)&&i.get(l)===c:l in i&&i[l]===c):"Map"===u?-1<Array.from(i.values()).indexOf(c):null!==y(i,c);break;case"Set":s=i.has(c);break;default:s=!1}else s=s===c;break;default:s=s===c}if(o&&!s||!o&&s)break}return s}function i(i,e){function a(){return 0<m&&v.length>=m}function r(e){var r,t,n,o;for(t=0,n=e.length;t<n;t++)if(!((r=e[t])in c)&&(s||O(i,r,p,b))){if("obj"===l?((o={})[f]=r,o[u]=i[r]):o="list"===l?[r,i[r]]:r,v.push(o),a())break;c[r]=null}}var f,l,u,c={},s=!(e&&"filter"in e),b=e||{},t=Object.getOwnPropertySymbols,n="function"==typeof t,p=s?null:b.filter,o=!s&&"own"===p,y=!s&&"!own"===p,g=!s&&(!o&&!y),m=b.limit||0,d=b.pairs,v=[],h=i;for(d&&("boolean"===(l=typeof d)?d={form:"obj"}:"string"===l&&(d={form:d}),"list"!==(l=d.form||d.type||"obj").toLowerCase()&&(l="obj"),f=d.key||"key",u=d.value||"value");h&&(!(s||g||o&&h===i||y&&h!==i)||(r(k(h)),n&&!a()&&r(t(h)),!a()));)h=s||y||g?j(h):null;return v}function y(e,r,t){var n,o=[];for(n in e)if(e[n]===r){if(!t)return n;o.push(n)}return o.length?o:null}function c(e,r,t){var n,o,i,a,f,l,u,c,s,b=e.length,p={};if(b){a=(n=!("filter"in(t=t||{})))?null:t.filter,f=t.filterConnect,i="function"==typeof r,o=Boolean(t.deleteKeyField&&r),i||(s=r);for(c=0;c<b;c++)l=e[c],i?u=s=r(l,p,c,t):"function"==typeof(u=s?l[s]:l)&&(u=u.call(l)),(n||O(p,u,a,{value:l,filterConnect:f}))&&(o&&delete l[s],p[u]=l)}return p}function a(e){var r;switch(u(e)){case"object":if("Array"===b(e))e.length=0;else for(r in e)delete e[r];break;case"string":e="";break;case"number":e=0;break;default:e=r}return e}function l(e){var r,t;switch(u(e)){case"object":if("Array"===b(e))e=e.reverse();else{for(t in r={},e)r[e[t]]=t;e=r}break;case"string":e=e.split("").reverse().join("");break;case"number":e=-e;break;case"boolean":e=!e}return e}function s(e,r){var t;switch(r){case"array":t=Array(e);break;case"boolean":t=Boolean(e);break;case"empty":t=a(e);break;case"function":t=Function(e);break;case"integer":t=Math.round(Number(e));break;case"number":t=Number(e);break;case"object":t=Object(e);break;case"promise":case"resolve":t=Promise.resolve(e);break;case"reject":t=Promise.reject(e);break;case"reverse":t=l(e);break;case"string":t=String(e);break;default:t=e}return t}function g(e,r,t){var n,o,i,a,f=!0;for(a in"filter"in(t=t||{})&&(i=t.filter,f=!1),"function"==typeof(o=t.transform)&&(n=!0),e)(f||O(e,a,i,t))&&(r[a]=o?n?o({source:e,target:r,field:a,value:e[a],settings:t}):s(e[a],o):e[a]);return r}return k="function"==typeof Object.getOwnPropertyNames?Object.getOwnPropertyNames:function(e){var r,t=[];for(r in e)e.hasOwnProperty(r)&&t.push(r);return t},j="function"==typeof Object.getPrototypeOf?Object.getPrototypeOf:function(e){return e?e.constructor?e.constructor.prototype:e.__proto__||Object.prototype:null},"function"==typeof Object.getOwnPropertySymbols&&(n=function(e){var r,t,n,o,i={},a=Object.getOwnPropertySymbols,f=Object.getPrototypeOf,l=[];if(e&&"object"==typeof e)do{for(r=0,t=(o=a(e)).length;r<t;r++)(n=o[r])in i||(l.push(n),i[n]=!0);e=f(e)}while(e);return l}),t.exports={change:function(e,r,t){return(t=t?g(t,{}):{}).transform=r,g(e,e,t)},checkField:O,checkValue:function(e,r,t){return O({value:e},"value",r,t)},copy:g,empty:a,fromArray:c,getClass:b,getFields:i,getFreeField:function(e,r){var t,n,o;if("string"!=typeof(o=(r=r||{}).prefix)&&(o="f"),t=(t=r.startNum)||0,r.checkPrefix?(n=o,t--):n=o+t,e)for(;n in e;)n=o+ ++t;return n},getPropertySymbols:n,getSize:function(e,r){return i(e,r).length},getType:u,getValueKey:y,getValues:function(e,r){var t,n=[],o=!(r&&"filter"in r),i=o?null:r.filter;for(t in e)(o||O(e,t,i,r))&&(n[n.length]=e[t]);return n},isEmpty:f,isKindOf:p,isSizeMore:o,map:function(e,r,t){return(t=t?g(t,{}):{}).transform=r,g(e,"Array"===b(e)?[]:{},t)},remove:function(e,r,t){var n;if(e&&"object"==typeof e)if("Array"===b(e))for(n=e.length;n--;)O(e,n,r,t)&&e.splice(n,1);else for(n in e)O(e,n,r,t)&&delete e[n];return e},reverse:l,select:function(e,r,t){function n(e){return"defaultValue"in f?f.defaultValue:e}var o,i,a,f=t||{},l=n(r);if("Array"===b(r))if(i=r.length)for(a=i-1,o=0;o<i;o++){if(O(r,o,e,f)){l=r[o];break}o===a&&(l=n(r[o]))}else l=n(o);else if("object"===u(r))for(o in l=n(o),r)if(O(r,o,e,f)){l=r[o];break}return l},split:function(e,r,t){var n,o,i,a={},f={},l=[a,f];for(i in t=t||{},r?(n=!0,"number"==typeof r.length&&(r=c(r))):(n=!1,o=t.filter),e)((n?i in r:O(e,i,o,t))?a:f)[i]=e[i];return l},transform:s},t.exports});