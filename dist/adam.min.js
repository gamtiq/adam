!function(e,r){if(void 0===e&&void 0!==window&&(e=window),"object"==typeof module&&module.exports)module.exports=r(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],r);else{var t={exports:e};e.adam=r(0,0,t)}}(this,function(e,r,t){"use strict";var g,n,d;function b(e){var r=Object.prototype.toString.call(e);return r.substring(8,r.length-1)}function l(e){var r=typeof e;return null===e?"null":"number"==r&&isNaN(e)?"nan":r}function i(e,r,t){return r++,(t=t?v(t,{}):{}).limit=r,o(e,t).length===r}function f(e){return null==e||0===e||""===e||"object"==typeof e&&!i(e,0)||"Array"===b(e)&&0===e.length}function p(e,r){var t,n,i,o="!"===r.charAt(0),a=l(e);return o&&(r=r.substring(1)),i=a===r||b(e)===r||"true"===r&&Boolean(e)||"false"===r&&!e||"empty"===r&&f(e)||"numeric"===r&&("number"===a||"string"===a&&e&&!isNaN(Number(e)))||"number"===a&&("zero"===r&&0===e||"positive"===r&&0<e||"negative"===r&&e<0||(t=e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)&&"infinity"===r||!t&&((n=e===Math.ceil(e))&&"integer"===r||n&&"even"===r&&e%2==0||n&&"odd"===r&&e%2!=0||!n&&"real"===r)),o?!i:i}function m(e,r,t,n){var i,o,a,f,u,l,c,s=!0;c="value"in(n=n||{})?n.value:e[r],i="string"!=typeof(i=n.filterConnect)||"or"!==i.toLowerCase(),"Array"!==b(t)&&(t=[t]);for(a=0,f=t.length;a<f;a++){switch(b(s=t[a])){case"Function":s=Boolean(s(c,r,e,n));break;case"String":s="own"===s?e.hasOwnProperty(r):"!own"===s?!e.hasOwnProperty(r):p(c,s);break;case"RegExp":s=s.test("symbol"==typeof c?c.toString():c);break;case"Object":if("and"in s)s=m(e,r,s.and,{filterConnect:"and"});else if("or"in s)s=m(e,r,s.or,{filterConnect:"or"});else if("field"in s)s=m({field:r},"field",s.field,{filterConnect:n.filterConnect});else if("value"in s)s=s.value===c;else if("inside"in s)switch(l=b(o=s.inside)){case"Array":case"String":s=-1<o.indexOf(c);break;case"Map":case"Object":s=(u=s.key)?(!0===u&&(u=r),"Map"===l?o.has(u)&&o.get(u)===c:u in o&&o[u]===c):"Map"===l?-1<Array.from(o.values()).indexOf(c):null!==y(o,c);break;case"Set":s=o.has(c);break;default:s=!1}else s=s===c;break;default:s=s===c}if(i&&!s||!i&&s)break}return s}function o(i,o){function a(){return 0<b&&p.length>=b}function e(e){var r,t,n;for(t=0,n=e.length;t<n;t++)if(r=e[t],(u||m(i,r,l,o))&&!(r in f)){if(p.push(r),a())break;f[r]=null}}for(var f={},u=(!(o&&"filter"in o)),r=Object.getOwnPropertySymbols,t="function"==typeof r,l=u?null:o.filter,n=!u&&"own"===l,c=!u&&"!own"===l,s=!u&&(!n&&!c),b=o&&o.limit||0,p=[],y=i;y&&(!(u||s||n&&y===i||c&&y!==i)||(e(g(y)),t&&!a()&&e(r(y)),!a()));)y=u||c||s?d(y):null;return p}function y(e,r,t){var n,i=[];for(n in e)if(e[n]===r){if(!t)return n;i.push(n)}return i.length?i:null}function c(e,r,t){var n,i,o,a,f,u,l,c,s,b=e.length,p={};if(b){a=(n=!("filter"in(t=t||{})))?null:t.filter,f=t.filterConnect,o="function"==typeof r,i=Boolean(t.deleteKeyField&&r),o||(s=r);for(c=0;c<b;c++)u=e[c],o?l=s=r(u,p,c,t):"function"==typeof(l=s?u[s]:u)&&(l=l.call(u)),(n||m(p,l,a,{value:u,filterConnect:f}))&&(i&&delete u[s],p[l]=u)}return p}function a(e){var r;switch(l(e)){case"object":if("Array"===b(e))e.length=0;else for(r in e)delete e[r];break;case"string":e="";break;case"number":e=0;break;default:e=r}return e}function u(e){var r,t;switch(l(e)){case"object":if("Array"===b(e))e=e.reverse();else{for(t in r={},e)r[e[t]]=t;e=r}break;case"string":e=e.split("").reverse().join("");break;case"number":e=-e;break;case"boolean":e=!e}return e}function s(e,r){var t;switch(r){case"array":t=Array(e);break;case"boolean":t=Boolean(e);break;case"empty":t=a(e);break;case"function":t=Function(e);break;case"integer":t=Math.round(Number(e));break;case"number":t=Number(e);break;case"object":t=Object(e);break;case"promise":case"resolve":t=Promise.resolve(e);break;case"reject":t=Promise.reject(e);break;case"reverse":t=u(e);break;case"string":t=String(e);break;default:t=e}return t}function v(e,r,t){var n,i,o,a,f=!0;for(a in"filter"in(t=t||{})&&(o=t.filter,f=!1),"function"==typeof(i=t.transform)&&(n=!0),e)(f||m(e,a,o,t))&&(r[a]=i?n?i({source:e,target:r,field:a,value:e[a],settings:t}):s(e[a],i):e[a]);return r}return g="function"==typeof Object.getOwnPropertyNames?Object.getOwnPropertyNames:function(e){var r,t=[];for(r in e)t.push(r);return t},d="function"==typeof Object.getPrototypeOf?Object.getPrototypeOf:function(e){return e?e.constructor?e.constructor.prototype:e.__proto__||Object.prototype:null},"function"==typeof Object.getOwnPropertySymbols&&(n=function(e){var r,t,n,i,o={},a=Object.getOwnPropertySymbols,f=Object.getPrototypeOf,u=[];if(e&&"object"==typeof e)do{for(r=0,t=(i=a(e)).length;r<t;r++)(n=i[r])in o||(u.push(n),o[n]=!0);e=f(e)}while(e);return u}),t.exports={change:function(e,r,t){return(t=t?v(t,{}):{}).transform=r,v(e,e,t)},checkField:m,checkValue:function(e,r,t){return m({value:e},"value",r,t)},copy:v,empty:a,fromArray:c,getClass:b,getFields:o,getFreeField:function(e,r){var t,n,i;if("string"!=typeof(i=(r=r||{}).prefix)&&(i="f"),t=(t=r.startNum)||0,r.checkPrefix?(n=i,t--):n=i+t,e)for(;n in e;)n=i+ ++t;return n},getPropertySymbols:n,getSize:function(e,r){return o(e,r).length},getType:l,getValueKey:y,getValues:function(e,r){var t,n=[],i=!(r&&"filter"in r),o=i?null:r.filter;for(t in e)(i||m(e,t,o,r))&&(n[n.length]=e[t]);return n},isEmpty:f,isKindOf:p,isSizeMore:i,map:function(e,r,t){return(t=t?v(t,{}):{}).transform=r,v(e,"Array"===b(e)?[]:{},t)},remove:function(e,r,t){var n;if(e&&"object"==typeof e)if("Array"===b(e))for(n=e.length;n--;)m(e,n,r,t)&&e.splice(n,1);else for(n in e)m(e,n,r,t)&&delete e[n];return e},reverse:u,select:function(e,r,t){function n(e){return"defaultValue"in f?f.defaultValue:e}var i,o,a,f=t||{},u=n(r);if("Array"===b(r))if(o=r.length)for(a=o-1,i=0;i<o;i++){if(m(r,i,e,f)){u=r[i];break}i===a&&(u=n(r[i]))}else u=n(i);else if("object"===l(r))for(i in u=n(i),r)if(m(r,i,e,f)){u=r[i];break}return u},split:function(e,r,t){var n,i,o,a={},f={},u=[a,f];for(o in t=t||{},r?(n=!0,"number"==typeof r.length&&(r=c(r))):(n=!1,i=t.filter),e)((n?o in r:m(e,o,i,t))?a:f)[o]=e[o];return u},transform:s},t.exports});